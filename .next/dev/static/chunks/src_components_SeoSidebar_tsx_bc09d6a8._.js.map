{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rose/Documents/this_month/write-content/best-ai-text-writer.com/src/components/SeoSidebar.tsx"],"sourcesContent":["'use client';\n\nimport React, { useMemo, useState } from 'react';\nimport { useAnalysisStore } from '@/store/useAnalysisStore';\nimport { useAppStore } from '@/store/useAppStore';\nimport { BrainCircuit, Layers, Target, ShieldCheck, Database, ListChecks, Zap, Hash, BarChart2, FileSearch, BookOpen, UploadCloud, X, ShoppingBag, ArrowRight, Gem, Square, Languages, Copy, Check } from 'lucide-react';\nimport { GenerationStatus, FrequentWordsPlacementAnalysis, ReferenceAnalysis, AuthorityAnalysis, ProblemProductMapping, ProductBrief, TargetAudience } from '@/types';\nimport { Search, Loader2 } from 'lucide-react';\n\ninterface SeoSidebarProps {\n    keywordPlans: FrequentWordsPlacementAnalysis[];\n    referenceAnalysis: ReferenceAnalysis | null;\n    authorityAnalysis: AuthorityAnalysis | null;\n    productMapping?: ProblemProductMapping[];\n    productBrief?: ProductBrief;\n    headingOptimizations?: {\n        h2_before: string;\n        h2_after: string;\n        h2_reason?: string;\n        h2_options?: { text: string; reason?: string; score?: number }[];\n        needs_manual?: boolean;\n        h3?: { h3_before: string; h3_after: string; h3_reason?: string }[];\n    }[];\n    targetAudience: TargetAudience;\n    languageInstruction: string;\n    isLoading: boolean;\n    status: GenerationStatus;\n    onStop: () => void;\n    brandKnowledge: string;\n    setBrandKnowledge: (kb: string) => void;\n    displayScale?: number;\n    onSearchLocalAlternatives?: () => Promise<void>;\n    isSearchingAlternatives?: boolean;\n}\n\ntype Tab = 'analysis' | 'knowledge';\n\nexport const SeoSidebar: React.FC<SeoSidebarProps> = ({\n    keywordPlans,\n    referenceAnalysis,\n    authorityAnalysis,\n    productMapping = [],\n    productBrief,\n    headingOptimizations = [],\n    targetAudience,\n    languageInstruction,\n    isLoading,\n    status,\n    onStop,\n    brandKnowledge,\n    setBrandKnowledge,\n    displayScale = 1,\n    onSearchLocalAlternatives,\n    isSearchingAlternatives = false\n}) => {\n    const visualStyle = useAnalysisStore(state => state.visualStyle);\n    const [activeTab, setActiveTab] = useState<Tab>('analysis');\n    const [showLangDetails, setShowLangDetails] = useState(false);\n    const [copied, setCopied] = useState(false);\n    const filteredKeywordPlans = useMemo(() => {\n        const MAGIC_MAX_WORDS = 3;\n        const MAGIC_MAX_LENGTH = 15;\n        return keywordPlans.filter(plan => {\n            const keyword = (plan.word || '').trim();\n            if (!keyword) return false;\n            const wordCount = keyword.split(/\\s+/).filter(Boolean).length;\n            return wordCount <= MAGIC_MAX_WORDS && keyword.length <= MAGIC_MAX_LENGTH;\n        });\n    }, [keywordPlans]);\n\n    const audienceLabelMap: Record<TargetAudience, string> = {\n        'zh-TW': 'ÁπÅÈ´î‰∏≠ÊñáÔºàÂè∞ÁÅ£Ôºâ',\n        'zh-HK': 'ÁπÅÈ´î‰∏≠ÊñáÔºàÈ¶ôÊ∏ØÔºâ',\n        'zh-MY': 'Á∞°È´î‰∏≠ÊñáÔºàÈ¶¨‰æÜË•ø‰∫ûÔºâ',\n    };\n    const audienceLabel = audienceLabelMap[targetAudience] || targetAudience || 'Êú™Ë®≠ÂÆö';\n\n    const handleCopyLanguage = async () => {\n        const text = (languageInstruction || audienceLabel || '').trim();\n        if (!text) return;\n        try {\n            await navigator.clipboard.writeText(text);\n            setCopied(true);\n            setTimeout(() => setCopied(false), 1200);\n        } catch (e) {\n            console.warn('Copy failed', e);\n        }\n    };\n\n    const formatInstruction = (raw: string, expanded: boolean) => {\n        const trimmed = raw.trim();\n        if (!trimmed) return 'Â∞öÊú™ËºâÂÖ•Ë™ûË®ÄÊåá‰ª§„ÄÇË´ãÂú®Ë®≠ÂÆö‰∏≠ÈÅ∏ÊìáÁõÆÊ®ôÂèóÁúæ„ÄÇ';\n        if (expanded) return trimmed;\n        const compact = trimmed.replace(/\\s+/g, ' ').trim();\n        return compact.length > 220 ? `${compact.slice(0, 220)}‚Ä¶` : compact;\n    };\n\n    const getKeywordLocationTags = (word: string, snippets: string[] = []) => {\n        const normalized = (word || '').trim().toLowerCase();\n        if (!normalized) return [{ label: 'Unknown', variant: 'unknown' as const }];\n\n        const sections = referenceAnalysis?.structure || [];\n        let headingHits = 0;\n        sections.forEach(section => {\n            if ((section.title || '').toLowerCase().includes(normalized)) headingHits++;\n            (section.subheadings || []).forEach(sub => {\n                if ((sub || '').toLowerCase().includes(normalized)) headingHits++;\n            });\n        });\n\n        const bodyHits = snippets.length;\n        const tags: { label: string; variant: 'heading' | 'body' | 'unknown' }[] = [];\n\n        if (headingHits > 0) {\n            tags.push({\n                label: headingHits >= bodyHits ? 'Heading-heavy' : 'Heading',\n                variant: 'heading'\n            });\n        }\n\n        if (bodyHits > 0) {\n            tags.push({\n                label: bodyHits > headingHits ? 'Body-heavy' : 'Body',\n                variant: 'body'\n            });\n        }\n\n        if (tags.length === 0) {\n            tags.push({ label: 'Unknown', variant: 'unknown' });\n        }\n\n        return tags.slice(0, 2);\n    };\n\n    const hasData = filteredKeywordPlans.length > 0 || referenceAnalysis !== null || authorityAnalysis !== null || productMapping.length > 0;\n    const hasKnowledge = brandKnowledge && brandKnowledge.trim().length > 0;\n\n    const difficultyBadge = (value?: string) => {\n        const map: Record<string, { label: string; bg: string; text: string; border: string }> = {\n            easy: { label: 'Easy', bg: 'bg-emerald-50', text: 'text-emerald-700', border: 'border-emerald-100' },\n            medium: { label: 'Medium', bg: 'bg-amber-50', text: 'text-amber-700', border: 'border-amber-100' },\n            unclear: { label: 'Unclear', bg: 'bg-rose-50', text: 'text-rose-700', border: 'border-rose-100' },\n        };\n        const variant = map[value || 'easy'] || map.easy;\n        return (\n            <span className={`px-2 py-0.5 text-xs font-bold rounded-full border ${variant.bg} ${variant.text} ${variant.border}`}>\n                {variant.label}\n            </span>\n        );\n    };\n\n    const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file) return;\n\n        const reader = new FileReader();\n        reader.onload = (event) => {\n            if (event.target?.result) {\n                const text = event.target.result as string;\n                // Append to existing or replace? Let's append if existing, else replace.\n                const newContent = brandKnowledge ? brandKnowledge + \"\\n\\n\" + text : text;\n                setBrandKnowledge(newContent);\n            }\n        };\n        reader.readAsText(file);\n    };\n\n    const isRunning = status === 'analyzing' || status === 'streaming';\n\n    const AnalysisView = () => {\n        // Show loading state only if we have absolutely no data yet\n        if (isLoading && !hasData) {\n            return (\n                <div className=\"flex flex-col h-full p-8 items-center justify-center bg-white/50 space-y-6\">\n                    <div className=\"relative\">\n                        <div className=\"w-16 h-16 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin\"></div>\n                        <div className=\"absolute inset-0 flex items-center justify-center\">\n                            <BrainCircuit className=\"w-6 h-6 text-indigo-600 animate-pulse\" />\n                        </div>\n                    </div>\n                    <div className=\"text-center space-y-2\">\n                        <h3 className=\"text-lg font-bold text-gray-800\">Analyzing Content</h3>\n                        <p className=\"text-xs text-gray-500 uppercase tracking-wide font-medium\">Parallel Analysis: Structure & Voice Strategy...</p>\n                    </div>\n                </div>\n            );\n        }\n\n        if (!hasData) {\n            return (\n                <div className=\"flex-1 flex flex-col items-center justify-center p-8 text-center opacity-60\">\n                    <div className=\"w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center mb-6 rotate-3\">\n                        <FileSearch className=\"w-8 h-8 text-gray-400\" />\n                    </div>\n                    <h4 className=\"text-base font-bold text-gray-700 mb-2\">No Data Available</h4>\n                    <p className=\"text-xs text-gray-500 max-w-[200px] leading-relaxed\">\n                        Start a generation to see NLP insights, structural breakdown, and authority signals here.\n                    </p>\n                </div>\n            );\n        }\n\n        // Helper to find which section matches a mapping\n        const getMatchingSections = (keywords: string[]) => {\n            if (!referenceAnalysis?.structure) return [];\n            return referenceAnalysis.structure.filter(s =>\n                keywords.some(k => s.title.toLowerCase().includes(k.toLowerCase()))\n            ).map(s => s.title);\n        };\n\n        return (\n            <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4\">\n                {/* Language Profile Card */}\n                <div className=\"bg-white rounded-xl border border-indigo-100 shadow-[0_2px_4px_rgba(0,0,0,0.02)] overflow-hidden\">\n                    <div className=\"px-4 py-2 flex items-center justify-between gap-3 bg-indigo-50\">\n                        <div className=\"flex items-center gap-2\">\n                            <Languages className=\"w-4 h-4 text-indigo-600\" />\n                            <div className=\"leading-tight\">\n                                <span className=\"block text-xs font-extrabold uppercase tracking-wider text-indigo-800\">Ë™ûË®ÄË®≠ÂÆö</span>\n                                <div className=\"flex items-center gap-2 flex-wrap\">\n                                    <span className=\"text-xs font-semibold text-indigo-700 bg-white/70 px-2 py-0.5 rounded-full border border-indigo-100\">\n                                        {audienceLabel}\n                                    </span>\n                                    <span className=\"text-xs text-indigo-500 font-semibold bg-indigo-100/60 px-2 py-0.5 rounded-full border border-indigo-200\">\n                                        {targetAudience || 'Êú™Ë®≠ÂÆö'}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                            <button\n                                onClick={handleCopyLanguage}\n                                className=\"h-8 w-8 flex items-center justify-center rounded-md border border-indigo-100 bg-white text-indigo-600 hover:bg-indigo-50 active:scale-95 transition\"\n                                title=\"Ë§áË£ΩÂÆåÊï¥Ë™ûË®ÄÊåá‰ª§\"\n                            >\n                                {copied ? <Check className=\"w-3.5 h-3.5\" /> : <Copy className=\"w-3.5 h-3.5\" />}\n                            </button>\n                            <button\n                                onClick={() => setShowLangDetails(v => !v)}\n                                className=\"h-8 px-3 text-xs font-semibold text-indigo-700 rounded-md border border-indigo-100 bg-white hover:bg-indigo-50 active:scale-95 transition\"\n                            >\n                                {showLangDetails ? 'Êî∂Ëµ∑' : 'ÂÖ®Êñá'}\n                            </button>\n                        </div>\n                    </div>\n                    <div className={`p-3 text-sm text-gray-700 leading-snug ${showLangDetails ? 'whitespace-pre-line' : ''}`}>\n                        {formatInstruction(languageInstruction || '', showLangDetails)}\n                    </div>\n                </div>\n\n                {/* NEW: Product & Conversion Strategy Card */}\n                {productBrief && productBrief.productName && (\n                    <div className=\"bg-white rounded-xl border border-gray-200 shadow-[0_2px_4px_rgba(0,0,0,0.02)] overflow-hidden group hover:shadow-md transition-all duration-300\">\n                        <div className=\"px-4 py-2.5 border-b border-gray-50 bg-gradient-to-r from-emerald-50/80 to-white flex items-center gap-2\">\n                            <ShoppingBag className=\"w-3.5 h-3.5 text-emerald-600\" />\n                            <h4 className=\"text-xs font-extrabold text-gray-700 uppercase tracking-wider\">Service & Product Strategy</h4>\n                        </div>\n                        <div className=\"p-3 space-y-3\">\n                            {/* Product Summary */}\n                            <div className=\"flex flex-col gap-1.5 text-xs bg-emerald-50/50 p-3 rounded border border-emerald-100\">\n                                <span className=\"font-bold text-emerald-700\">{productBrief.productName}</span>\n                                <span className=\"text-emerald-600/70 break-words leading-relaxed\">{productBrief.usp}</span>\n                            </div>\n\n                            {/* Mapping Strategy */}\n                            <div className=\"space-y-2\">\n                                <h5 className=\"text-xs font-bold text-gray-400 uppercase\">Injection Map</h5>\n                                {productMapping.length === 0 ? (\n                                    <p className=\"text-xs text-gray-400 italic\">No specific mappings generated.</p>\n                                ) : (\n                                    productMapping.map((map, idx) => {\n                                        const matchedSections = getMatchingSections(map.relevanceKeywords);\n                                        return (\n                                            <div key={idx} className=\"bg-gray-50 rounded p-3 border border-gray-100 flex flex-col gap-2\">\n                                                <div className=\"flex items-start gap-2\">\n                                                    <div className=\"mt-0.5 w-1.5 h-1.5 rounded-full bg-red-400 flex-shrink-0\" title=\"Pain Point\"></div>\n                                                    <span className=\"text-xs text-gray-700 leading-relaxed break-words\">\n                                                        {map.painPoint}\n                                                    </span>\n                                                </div>\n                                                <div className=\"flex items-start gap-2 pl-3.5\">\n                                                    <ArrowRight className=\"w-3 h-3 text-gray-300 flex-shrink-0 mt-0.5\" />\n                                                    <span className=\"text-xs font-bold text-emerald-600 leading-relaxed break-words\">\n                                                        {map.productFeature}\n                                                    </span>\n                                                </div>\n                                                {matchedSections.length > 0 && (\n                                                    <div className=\"mt-1 pl-3.5 flex flex-wrap gap-1.5\">\n                                                        {matchedSections.map((s, si) => (\n                                                            <span key={si} className=\"text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded border border-blue-100 break-words\">\n                                                                üìç {s}\n                                                            </span>\n                                                        ))}\n                                                    </div>\n                                                )}\n                                            </div>\n                                        );\n                                    })\n                                )}\n                            </div>\n\n\n                        </div>\n                    </div>\n                )}\n\n                {/* NEW: Visual Style Card */}\n                {referenceAnalysis && (\n                    <div className=\"bg-white rounded-xl border border-gray-200 shadow-[0_2px_4px_rgba(0,0,0,0.02)] overflow-hidden group hover:shadow-md transition-all duration-300\">\n                        <div className=\"px-4 py-2.5 border-b border-gray-50 bg-gradient-to-r from-pink-50/80 to-white flex items-center gap-2\">\n                            <div className=\"w-3.5 h-3.5 text-pink-600 flex items-center justify-center\">\n                                <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"w-full h-full\"><circle cx=\"13.5\" cy=\"6.5\" r=\".5\" fill=\"currentColor\"></circle><circle cx=\"17.5\" cy=\"10.5\" r=\".5\" fill=\"currentColor\"></circle><circle cx=\"8.5\" cy=\"7.5\" r=\".5\" fill=\"currentColor\"></circle><circle cx=\"6.5\" cy=\"12.5\" r=\".5\" fill=\"currentColor\"></circle><path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z\"></path></svg>\n                            </div>\n                            <h4 className=\"text-xs font-extrabold text-gray-700 uppercase tracking-wider\">Visual Style</h4>\n                        </div>\n                        <div className=\"p-3\">\n                            <p className=\"text-sm text-gray-600 leading-relaxed italic\">\n                                \"{visualStyle || \"Clean, modern professional photography with natural lighting.\"}\"\n                            </p>\n                        </div>\n                    </div>\n                )}\n\n                {/* NEW: Localization & Safety Card */}\n                {referenceAnalysis && ((referenceAnalysis.regionalReplacements && referenceAnalysis.regionalReplacements.length > 0) || (referenceAnalysis.replacementRules && referenceAnalysis.replacementRules.length > 0)) && (\n                    <div className=\"bg-white rounded-xl border border-gray-200 shadow-[0_2px_4px_rgba(0,0,0,0.02)] overflow-hidden group hover:shadow-md transition-all duration-300\">\n                        <div className=\"px-4 py-2.5 border-b border-gray-50 bg-gradient-to-r from-amber-50/80 to-white flex items-center gap-2\">\n                            <ShieldCheck className=\"w-3.5 h-3.5 text-amber-600\" />\n                            <h4 className=\"text-xs font-extrabold text-gray-700 uppercase tracking-wider\">Localization & Safety</h4>\n                        </div>\n                        <div className=\"p-3 space-y-3\">\n                            {/* Regional Corrections */}\n                            {referenceAnalysis.regionalReplacements && referenceAnalysis.regionalReplacements.length > 0 && (\n                                <div className=\"space-y-2\">\n                                    <div className=\"flex items-center justify-between\">\n                                        <h5 className=\"text-xs font-bold text-gray-400 uppercase flex items-center gap-1\">\n                                            Regional Corrections\n                                            <span className=\"bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded-full text-[10px]\">{referenceAnalysis.regionalReplacements.length}</span>\n                                        </h5>\n                                    </div>\n                                    <ul className=\"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto pr-1 custom-scrollbar\">\n                                        {referenceAnalysis.regionalReplacements.map((item, idx) => (\n                                            <li key={idx} className={`rounded p-2 border flex flex-col gap-1 ${item.replacement ? 'bg-amber-50/50 border-amber-100' : 'bg-red-50/50 border-red-100'}`}>\n                                                <div className=\"flex items-center gap-2 text-xs font-medium text-gray-800 flex-wrap\">\n                                                    <span className=\"text-red-500 line-through decoration-red-500/50\">{item.original}</span>\n                                                    <span className=\"text-gray-400\">‚Üí</span>\n                                                    {item.replacement ? (\n                                                        <span className=\"text-emerald-600 font-bold\">{item.replacement}</span>\n                                                    ) : (\n                                                        <span className=\"text-red-500 font-bold italic\">(Âà™Èô§)</span>\n                                                    )}\n                                                </div>\n                                                {item.reason && <span className=\"text-[10px] text-gray-500 leading-snug\">{item.reason}</span>}\n                                            </li>\n                                        ))}\n                                    </ul>\n                                </div>\n                            )}\n\n                            {/* Blocked Competitor Terms with Classification */}\n                            {((referenceAnalysis.competitorBrands && referenceAnalysis.competitorBrands.length > 0) ||\n                                (referenceAnalysis.competitorProducts && referenceAnalysis.competitorProducts.length > 0)) && (\n                                    <div className={`space-y-2 ${referenceAnalysis.regionalReplacements?.length ? 'pt-2 border-t border-gray-100' : ''}`}>\n                                        <div className=\"flex items-center justify-between\">\n                                            <h5 className=\"text-xs font-bold text-gray-400 uppercase flex items-center gap-1\">\n                                                Blocked Terms\n                                                <span className=\"bg-red-100 text-red-700 px-1.5 py-0.5 rounded-full text-[10px]\">\n                                                    {(referenceAnalysis.competitorBrands?.length || 0) + (referenceAnalysis.competitorProducts?.length || 0)}\n                                                </span>\n                                            </h5>\n                                        </div>\n\n                                        {/* Recommendation Banner */}\n                                        {((referenceAnalysis.competitorBrands?.length || 0) + (referenceAnalysis.competitorProducts?.length || 0)) >= 3 && (\n                                            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-2.5 space-y-2\">\n                                                <div className=\"flex items-start gap-2\">\n                                                    <span className=\"text-blue-600 text-sm\">üí°</span>\n                                                    <p className=\"text-xs text-blue-700 leading-relaxed\">\n                                                        ÂÅµÊ∏¨Âà∞ <strong>{(referenceAnalysis.competitorBrands?.length || 0) + (referenceAnalysis.competitorProducts?.length || 0)}</strong> ÂÄãÂìÅÁâå/Áî¢ÂìÅÈúÄË¶ÅÊú¨Âú∞ÊõøÊèõ\n                                                    </p>\n                                                </div>\n                                                <button\n                                                    className=\"w-full px-3 py-1.5 bg-blue-600 text-white text-xs font-semibold rounded-md hover:bg-blue-700 active:scale-[0.98] transition-all flex items-center justify-center gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed\"\n                                                    onClick={onSearchLocalAlternatives}\n                                                    disabled={isSearchingAlternatives || !onSearchLocalAlternatives}\n                                                >\n                                                    {isSearchingAlternatives ? (\n                                                        <Loader2 className=\"w-3.5 h-3.5 animate-spin\" />\n                                                    ) : (\n                                                        <Search className=\"w-3.5 h-3.5\" />\n                                                    )}\n                                                    ÊêúÂ∞ãÊú¨Âú∞Êõø‰ª£ÂìÅÁâå\n                                                </button>\n                                            </div>\n                                        )}\n\n                                        <ul className=\"space-y-1.5\">\n                                            {/* Brand items */}\n                                            {referenceAnalysis.competitorBrands?.map((brand, idx) => (\n                                                <li key={`brand-${idx}`} className=\"text-xs text-gray-600 flex items-center justify-between gap-2 bg-gray-50 rounded px-2 py-1.5 border border-gray-100\">\n                                                    <div className=\"flex items-center gap-2\">\n                                                        <span className=\"text-red-400 font-bold\">[-]</span>\n                                                        <span className=\"break-words font-medium\">{brand}</span>\n                                                    </div>\n                                                    <span className=\"px-1.5 py-0.5 bg-purple-100 text-purple-700 text-[10px] font-semibold rounded-full\">ÂìÅÁâå</span>\n                                                </li>\n                                            ))}\n                                            {/* Product items */}\n                                            {referenceAnalysis.competitorProducts?.map((product, idx) => (\n                                                <li key={`product-${idx}`} className=\"text-xs text-gray-600 flex items-center justify-between gap-2 bg-gray-50 rounded px-2 py-1.5 border border-gray-100\">\n                                                    <div className=\"flex items-center gap-2\">\n                                                        <span className=\"text-red-400 font-bold\">[-]</span>\n                                                        <span className=\"break-words font-medium\">{product}</span>\n                                                    </div>\n                                                    <span className=\"px-1.5 py-0.5 bg-amber-100 text-amber-700 text-[10px] font-semibold rounded-full\">Áî¢ÂìÅ</span>\n                                                </li>\n                                            ))}\n                                        </ul>\n                                    </div>\n                                )}\n                        </div>\n                    </div>\n                )}\n\n                {/* Card 1: Voice & Strategy */}\n                {referenceAnalysis && (referenceAnalysis.generalPlan.length > 0 || referenceAnalysis.humanWritingVoice) && (\n                    <div className=\"bg-white rounded-xl border border-gray-200 shadow-[0_2px_4px_rgba(0,0,0,0.02)] overflow-hidden group hover:shadow-md transition-all duration-300\">\n                        <div className=\"px-4 py-2.5 border-b border-gray-50 bg-gradient-to-r from-purple-50/80 to-white flex items-center gap-2\">\n                            <Target className=\"w-3.5 h-3.5 text-purple-600\" />\n                            <h4 className=\"text-xs font-extrabold text-gray-700 uppercase tracking-wider\">Voice Strategy</h4>\n                        </div>\n                        <div className=\"p-3\">\n                            <div className=\"space-y-2\">\n                                {referenceAnalysis.generalPlan.map((point, idx) => (\n                                    <div key={idx} className=\"flex gap-2.5 items-start\">\n                                        <div className=\"w-1 h-1 mt-2 rounded-full bg-purple-400 flex-shrink-0\"></div>\n                                        <p className=\"text-sm text-gray-600 leading-relaxed\">{point}</p>\n                                    </div>\n                                ))}\n                            </div>\n\n                            {/* New: Voice Detect & Identity */}\n                            <div className=\"mt-3 pt-3 border-t border-purple-50 space-y-2\">\n                                {referenceAnalysis.regionVoiceDetect && referenceAnalysis.regionVoiceDetect !== \"Match\" && (\n                                    <div className=\"bg-rose-50 border border-rose-100 rounded-md p-2 flex gap-2 items-start\">\n                                        <div className=\"mt-0.5 text-rose-500\">‚ö†Ô∏è</div>\n                                        <div className=\"space-y-0.5\">\n                                            <p className=\"text-xs font-bold text-rose-700 uppercase\">Region Voice %</p>\n                                            <p className=\"text-xs text-rose-600 leading-relaxed\">{referenceAnalysis.regionVoiceDetect}</p>\n                                        </div>\n                                    </div>\n                                )}\n                                {referenceAnalysis.humanWritingVoice && (\n                                    <div className=\"flex gap-2 items-start bg-purple-50/50 p-2 rounded-md border border-purple-50\">\n                                        <div className=\"mt-0.5 text-xs\">üó£Ô∏è</div>\n                                        <div className=\"space-y-0.5\">\n                                            <p className=\"text-xs font-bold text-purple-700 uppercase\">Human Writing Voice</p>\n                                            <p className=\"text-xs text-purple-600 leading-relaxed italic\">\n                                                \"{referenceAnalysis.humanWritingVoice}\"\n                                            </p>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Card 2: Authority Signals */}\n                {authorityAnalysis && authorityAnalysis.relevantTerms.length > 0 && (\n                    <div className=\"bg-white rounded-xl border border-gray-200 shadow-[0_2px_4px_rgba(0,0,0,0.02)] overflow-hidden group hover:shadow-md transition-all duration-300\">\n                        <div className=\"px-4 py-2.5 border-b border-gray-50 bg-gradient-to-r from-teal-50/80 to-white flex items-center gap-2\">\n                            <ShieldCheck className=\"w-3.5 h-3.5 text-teal-600\" />\n                            <h4 className=\"text-sm font-extrabold text-gray-700 uppercase tracking-wider\">Core Topic</h4>\n                        </div>\n                        <div className=\"p-4 space-y-3\">\n                            <div className=\"flex flex-wrap gap-1.5\">\n                                {authorityAnalysis.relevantTerms.slice(0, 8).map((term, idx) => (\n                                    <span key={idx} className=\"px-2 py-1 bg-teal-50 text-teal-700 border border-teal-100 rounded text-sm font-semibold\">\n                                        {term}\n                                    </span>\n                                ))}\n                                {authorityAnalysis.relevantTerms.length > 8 && (\n                                    <span className=\"px-2 py-1 text-gray-400 text-sm font-medium bg-gray-50 rounded border border-gray-100\">\n                                        +{authorityAnalysis.relevantTerms.length - 8} more\n                                    </span>\n                                )}\n                            </div>\n\n                            <div className=\"bg-gray-50 rounded-lg p-2.5 border border-gray-100\">\n                                <h5 className=\"text-sm font-bold text-gray-400 mb-2 uppercase flex items-center gap-1\">\n                                    <Zap className=\"w-3 h-3 text-amber-400\" /> Integration Plan\n                                </h5>\n                                <ul className=\"space-y-1.5\">\n                                    {(authorityAnalysis.combinations || []).map((plan, idx) => (\n                                        <li key={idx} className=\"text-sm text-gray-600 flex items-start gap-1.5 leading-snug\">\n                                            <span className=\"text-teal-400 mt-0.5\">‚Ä¢</span>\n                                            <span>{plan}</span>\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Card 3: Structure Map */}\n                {referenceAnalysis && referenceAnalysis.structure.length > 0 && (\n                    <div className=\"bg-white rounded-xl border border-gray-200 shadow-[0_2px_4px_rgba(0,0,0,0.02)] overflow-hidden group hover:shadow-md transition-all duration-300\">\n                        <div className=\"px-4 py-2.5 border-b border-gray-50 bg-gradient-to-r from-blue-50/80 to-white flex items-center gap-2\">\n                            <Layers className=\"w-3.5 h-3.5 text-blue-600\" />\n                            <h4 className=\"text-xs font-extrabold text-gray-700 uppercase tracking-wider\">Narrative Structure (Outline)</h4>\n                        </div>\n                        <div className=\"relative py-2 max-h-96 overflow-y-auto custom-scrollbar\">\n                            {/* Timeline Line */}\n                            <div className=\"absolute left-5 top-4 bottom-4 w-px bg-gray-100\"></div>\n\n                            <div className=\"relative z-10\">\n                                {referenceAnalysis.structure.map((section, idx) => {\n                                    const mode = section.writingMode || (section.difficulty === 'easy' ? 'direct' : 'multi_solutions');\n                                    const angles = section.solutionAngles?.filter(Boolean).slice(0, 2) || [];\n                                    return (\n                                        <div key={idx} className=\"px-4 py-3 pl-10 relative hover:bg-blue-50/30 transition-colors group/item\">\n                                            <div className=\"absolute left-3 top-3.5 w-4 h-4 rounded-full border-2 border-white bg-blue-50 text-blue-600 flex items-center justify-center shadow-sm text-xs font-bold z-10 group-hover/item:bg-blue-600 group-hover/item:text-white transition-all\">\n                                                {idx + 1}\n                                            </div>\n                                            <div className=\"flex items-start justify-between gap-3 pr-1\">\n                                                <div className=\"flex-1\">\n                                                    <h5 className=\"text-sm font-bold text-gray-800 mb-1 leading-normal break-words\">{section.title}</h5>\n                                                    {section.coreQuestion && (\n                                                        <p className=\"text-xs text-gray-500 leading-relaxed break-words\">Q: {section.coreQuestion}</p>\n                                                    )}\n                                                </div>\n                                                {difficultyBadge(section.difficulty)}\n                                            </div>\n                                            {section.narrativePlan && section.narrativePlan.length > 0 && (\n                                                <div className=\"mt-1.5 space-y-1\">\n                                                    {section.narrativePlan.slice(0, 3).map((plan, pIdx) => (\n                                                        <p key={pIdx} className=\"text-xs text-gray-400 leading-relaxed break-words\">\n                                                            {plan}\n                                                        </p>\n                                                    ))}\n                                                    {section.narrativePlan.length > 3 && (\n                                                        <p className=\"text-[10px] text-gray-300\">+{section.narrativePlan.length - 3} more</p>\n                                                    )}\n                                                </div>\n                                            )}\n                                            <div className=\"mt-2 flex flex-wrap gap-2\">\n                                                {section.isChecklist && (\n                                                    <span className=\"text-[10px] px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100\">Checklist</span>\n                                                )}\n                                                {section.uspNotes && section.uspNotes.slice(0, 2).map((usp, uIdx) => (\n                                                    <span key={`usp-${uIdx}`} className=\"text-[10px] px-2 py-1 rounded-full bg-purple-50 text-purple-700 border border-purple-100 break-words\">\n                                                        USP: {usp}\n                                                    </span>\n                                                ))}\n                                                {section.augment && section.augment.slice(0, 2).map((aug, aIdx) => (\n                                                    <span key={`aug-${aIdx}`} className=\"text-[10px] px-2 py-1 rounded-full bg-amber-50 text-amber-700 border border-amber-100 break-words\">\n                                                        + {aug}\n                                                    </span>\n                                                ))}\n                                                {section.suppress && section.suppress.slice(0, 2).map((sup, sIdx) => (\n                                                    <span key={`sup-${sIdx}`} className=\"text-[10px] px-2 py-1 rounded-full bg-rose-50 text-rose-700 border border-rose-100 break-words\">\n                                                        - {sup}\n                                                    </span>\n                                                ))}\n                                            </div>\n                                            {Array.isArray(section.subheadings) && section.subheadings.length > 0 && (\n                                                <div className=\"mt-2 pl-6 border-l border-blue-100 space-y-1\">\n                                                    {section.subheadings.map((sub, subIdx) => (\n                                                        <div key={subIdx} className=\"flex items-start gap-1.5 text-xs text-gray-600 leading-snug break-words\">\n                                                            <span className=\"text-blue-400 mt-0.5\">‚Ü≥</span>\n                                                            <span className=\"font-medium\">{sub}</span>\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            )}\n                                            {mode === 'multi_solutions' && angles.length > 0 && (\n                                                <div className=\"mt-2 flex flex-wrap gap-2\">\n                                                    {angles.map((angle, aIdx) => (\n                                                        <span key={aIdx} className=\"text-xs px-2 py-1 rounded-full border border-blue-100 bg-blue-50 text-blue-700 break-words\">\n                                                            {angle}\n                                                        </span>\n                                                    ))}\n                                                </div>\n                                            )}\n                                            {(section.uspNotes && section.uspNotes.length > 0) && (\n                                                <div className=\"mt-2 pl-6 border-l border-purple-100 space-y-1\">\n                                                    {section.uspNotes.map((usp, uIdx) => (\n                                                        <div key={`usp-list-${uIdx}`} className=\"flex items-start gap-1.5 text-[11px] text-purple-700 leading-snug break-words\">\n                                                            <span className=\"text-purple-300 mt-0.5\">‚òÖ</span>\n                                                            <span>{usp}</span>\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            )}\n                                            {section.keyFacts && section.keyFacts.length > 0 && (\n                                                <div className=\"mt-2 pl-6 border-l border-gray-100 space-y-1\">\n                                                    {section.keyFacts.map((fact, fIdx) => (\n                                                        <div key={fIdx} className=\"flex items-start gap-1.5 text-[11px] text-gray-700 leading-snug break-words\">\n                                                            <span className=\"text-gray-400 mt-0.5\">‚Ä¢</span>\n                                                            <span>{fact}</span>\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            )}\n                                            {(section.sentenceStartFeatures && section.sentenceStartFeatures.length > 0) && (\n                                                <div className=\"mt-2 pl-6 border-l border-indigo-100 space-y-1\">\n                                                    <div className=\"text-[10px] font-bold text-indigo-400 uppercase tracking-tight mb-0.5\">Sentence Starts</div>\n                                                    {section.sentenceStartFeatures.map((feat, fIdx) => (\n                                                        <div key={`start-${fIdx}`} className=\"flex items-start gap-1.5 text-[11px] text-indigo-600 leading-snug break-words\">\n                                                            <span className=\"text-indigo-300 mt-0.5\">‚ñ∑</span>\n                                                            <span>{feat}</span>\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            )}\n                                            {(section.sentenceEndFeatures && section.sentenceEndFeatures.length > 0) && (\n                                                <div className=\"mt-2 pl-6 border-l border-rose-100 space-y-1\">\n                                                    <div className=\"text-[10px] font-bold text-rose-400 uppercase tracking-tight mb-0.5\">Sentence Ends</div>\n                                                    {section.sentenceEndFeatures.map((feat, fIdx) => (\n                                                        <div key={`end-${fIdx}`} className=\"flex items-start gap-1.5 text-[11px] text-rose-600 leading-snug break-words\">\n                                                            <span className=\"text-rose-300 mt-0.5\">‚óÅ</span>\n                                                            <span>{feat}</span>\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            )}\n                                            {/* shiftPlan removed */}\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n\n\n                {/* Card 5: NLP Keywords */}\n                {filteredKeywordPlans.length > 0 && (\n                    <div className=\"bg-white rounded-xl border border-gray-200 shadow-[0_2px_4px_rgba(0,0,0,0.02)] overflow-hidden group hover:shadow-md transition-all duration-300\">\n                        <div className=\"px-4 py-2.5 border-b border-gray-50 bg-gradient-to-r from-indigo-50/80 to-white flex items-center gap-2\">\n                            <ListChecks className=\"w-3.5 h-3.5 text-indigo-600\" />\n                            <h4 className=\"text-xs font-extrabold text-gray-700 uppercase tracking-wider\">Semantic Keywords</h4>\n                        </div>\n                        <div className=\"p-3 space-y-3\">\n                            {filteredKeywordPlans.map((item, idx) => (\n                                <div key={idx} className=\"bg-gray-50/50 rounded-lg p-2.5 border border-gray-100\">\n                                    <div className=\"flex items-center justify-between mb-1.5 gap-2 flex-wrap\">\n                                        <div className=\"flex items-center gap-1.5\">\n                                            <Hash className=\"w-3 h-3 text-indigo-300\" />\n                                            <span className=\"text-sm font-bold text-gray-800\">\n                                                {item.word}\n                                            </span>\n                                        </div>\n                                        <div className=\"flex items-center gap-1\">\n                                            {item.isSentenceStart && (\n                                                <span className=\"px-1.5 py-0.5 rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200 text-[9px] font-bold\">START</span>\n                                            )}\n                                            {item.isSentenceEnd && (\n                                                <span className=\"px-1.5 py-0.5 rounded-full bg-rose-100 text-rose-700 border border-rose-200 text-[9px] font-bold\">END</span>\n                                            )}\n                                            {item.isPrefix && (\n                                                <span className=\"px-1.5 py-0.5 rounded-full bg-amber-100 text-amber-700 border border-amber-200 text-[9px] font-bold\">PRE</span>\n                                            )}\n                                            {item.isSuffix && (\n                                                <span className=\"px-1.5 py-0.5 rounded-full bg-teal-100 text-teal-700 border border-teal-200 text-[9px] font-bold\">SUF</span>\n                                            )}\n                                            {getKeywordLocationTags(item.word, item.snippets).map((tag, tagIdx) => {\n                                                const base = \"px-2 py-0.5 rounded-full border text-[10px] font-semibold flex items-center gap-1\";\n                                                const styles = tag.variant === 'heading'\n                                                    ? 'bg-blue-50 text-blue-700 border-blue-100'\n                                                    : tag.variant === 'body'\n                                                        ? 'bg-slate-50 text-slate-700 border-slate-200'\n                                                        : 'bg-gray-50 text-gray-500 border-gray-200';\n                                                return (\n                                                    <span key={tagIdx} className={`${base} ${styles}`}>\n                                                        {tag.label}\n                                                    </span>\n                                                );\n                                            })}\n                                        </div>\n                                    </div>\n                                    <div className=\"space-y-1\">\n                                        {item.plan.map((rule, rIdx) => (\n                                            <div key={rIdx} className=\"text-xs text-gray-600 flex items-start gap-1.5\">\n                                                <span className=\"text-indigo-300 mt-px\">‚Ä¢</span>\n                                                <span className=\"leading-snug opacity-90\">{rule}</span>\n                                            </div>\n                                        ))}\n                                        {item.exampleSentence && (\n                                            <div className=\"mt-2 text-xs text-gray-500 italic border-l-2 border-indigo-100 pl-2\">\n                                                \"{item.exampleSentence}\"\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    };\n\n    const KnowledgeView = () => {\n        return (\n            <div className=\"flex-1 flex flex-col min-h-0 bg-slate-50/50\">\n                <div className=\"p-4 bg-white border-b border-gray-200 space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                        <p className=\"text-xs text-gray-500\">\n                            Upload or paste Brand Guidelines, Product Specs, or Whitepapers here.\n                        </p>\n                    </div>\n\n                    <div className=\"flex gap-2\">\n                        <label className=\"flex-1 cursor-pointer\">\n                            <input type=\"file\" className=\"hidden\" accept=\".txt,.md,.json\" onChange={handleFileUpload} />\n                            <div className=\"px-3 py-2 bg-indigo-50 border border-indigo-100 rounded-lg text-indigo-700 text-xs font-bold hover:bg-indigo-100 transition-colors flex items-center justify-center gap-2\">\n                                <UploadCloud className=\"w-3.5 h-3.5\" />\n                                Load File\n                            </div>\n                        </label>\n                        <button\n                            onClick={() => setBrandKnowledge('')}\n                            className=\"px-3 py-2 bg-white border border-gray-200 rounded-lg text-gray-500 hover:text-red-500 hover:bg-red-50 hover:border-red-100 transition-colors\"\n                            title=\"Clear Knowledge Base\"\n                        >\n                            <X className=\"w-3.5 h-3.5\" />\n                        </button>\n                    </div>\n                </div>\n\n                <div className=\"flex-1 p-0 relative group\">\n                    <textarea\n                        value={brandKnowledge}\n                        onChange={(e) => setBrandKnowledge(e.target.value)}\n                        placeholder=\"Paste heavy documentation here...\"\n                        className=\"w-full h-full p-4 bg-gray-50 resize-none outline-none text-xs font-mono text-gray-600 leading-relaxed focus:bg-white transition-colors custom-scrollbar\"\n                    />\n                    {!brandKnowledge && (\n                        <div className=\"absolute inset-0 pointer-events-none flex flex-col items-center justify-center text-gray-300 p-8 text-center\">\n                            <BookOpen className=\"w-12 h-12 mb-3 opacity-20\" />\n                            <p className=\"text-sm font-bold\">Knowledge Base Empty</p>\n                            <p className=\"text-[10px] mt-1\">This context is used by RAG to enhance section generation.</p>\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"p-2 bg-white border-t border-gray-200 flex justify-between items-center text-[10px] text-gray-400 font-mono\">\n                    <span>{brandKnowledge.length} chars</span>\n                    <span className={brandKnowledge.length > 0 ? \"text-green-600 font-bold\" : \"\"}>\n                        {brandKnowledge.length > 0 ? \"RAG Active\" : \"Inactive\"}\n                    </span>\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div\n            className=\"flex flex-col h-full bg-slate-50/80 w-full border-l border-gray-200 font-sans\"\n            style={displayScale !== 1 ? { transform: `scale(${displayScale})`, transformOrigin: 'top left', width: `${100 / displayScale}%`, height: `${100 / displayScale}%` } : undefined}\n        >\n\n            {/* Sidebar Header / Tabs */}\n            <div className=\"flex items-center px-2 pt-2 bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm flex-shrink-0 z-10 justify-between gap-2\">\n                <div className=\"flex flex-1 items-center\">\n                    <button\n                        onClick={() => setActiveTab('analysis')}\n                        className={`flex-1 pb-2 pt-1 text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2 border-b-2 transition-colors ${activeTab === 'analysis'\n                            ? 'border-indigo-600 text-indigo-700'\n                            : 'border-transparent text-gray-400 hover:text-gray-600'\n                            }`}\n                    >\n                        <BarChart2 className=\"w-3.5 h-3.5\" />\n                        Analysis\n                    </button>\n                    <button\n                        onClick={() => setActiveTab('knowledge')}\n                        className={`flex-1 pb-2 pt-1 text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2 border-b-2 transition-colors relative ${activeTab === 'knowledge'\n                            ? 'border-indigo-600 text-indigo-700'\n                            : 'border-transparent text-gray-400 hover:text-gray-600'\n                            }`}\n                    >\n                        <BookOpen className=\"w-3.5 h-3.5\" />\n                        Knowledge\n                        {hasKnowledge && (\n                            <span className=\"absolute top-1 right-6 w-1.5 h-1.5 bg-green-500 rounded-full ring-2 ring-white\"></span>\n                        )}\n                    </button>\n                </div>\n\n                {isRunning && (\n                    <div className=\"flex items-center gap-2\">\n                        <div className=\"flex items-center gap-1.5 px-2 py-1 bg-indigo-50 text-indigo-600 rounded-md border border-indigo-100\">\n                            <div className=\"w-2 h-2 rounded-full bg-indigo-600 animate-pulse\" />\n                            <span className=\"text-xs font-bold uppercase tracking-wide\">Analyzing...</span>\n                        </div>\n                        <button\n                            onClick={onStop}\n                            className=\"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-600 bg-red-50 border border-red-100 rounded-lg hover:bg-red-100 transition-colors active:scale-95 whitespace-nowrap\"\n                            title=\"ÂÅúÊ≠¢ÂàÜÊûê\"\n                        >\n                            <Square className=\"w-3.5 h-3.5\" />\n                            <span>ÂÅúÊ≠¢</span>\n                        </button>\n                    </div>\n                )}\n            </div>\n\n            {activeTab === 'analysis' ? <AnalysisView /> : <KnowledgeView />}\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}}]
}